<SimWindow>:
	name: "simple"

	BoxLayout:
	    orientation: 'vertical'
	    size_hint: 1,1

        MDGridLayout:
            cols:4
            size_hint_y: 0.08
            md_bg_color:0.18,0.18,0.18,1

            MDBoxLayout:
                size_hint:0.15,1
                MDIconButton:
                    id:info_button
                    user_font_size:dp(30)
                    icon:'menu'
                    pos:self.parent.pos
                    size:self.parent.size
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    on_release: root.nav_drawer.set_state('open')

            MDFloatLayout:
                size_hint: 0.17,1
                orientation: 'horizontal'
                canvas:
                    Color:
                        rgba: 1,1,1,1
                    Line:
                        width: dp(1)
                        points: [self.x+self.width-dp(10),self.y+dp(10),self.x+self.width-dp(10),self.y+self.height-dp(10)]
                Image:
                    source: 'images/logos/icon_orange4.png'
                    size_hint:0.8,0.8
                    pos_hint: {'x':-0.08,'y':0.1}


            MDBoxLayout:
                size_hint: 0.53,1
                Label:
                    size_hint: 1,1
                    text: 'VTA-APP'
                    color: [1,1,1,1]
                    font_name: 'fonts/BlackHanSans-Regular.ttf'
                    text_size: self.parent.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: dp(28)
            MDBoxLayout:
                size_hint: 0.15,1
                MDIconButton:
                    icon: 'arrow-left'
                    pos:self.parent.pos
                    size:self.parent.size
                    user_font_size:dp(32)
                    theme_text_color: 'Custom'
                    text_color: 1,1,1,1
                    on_press:
                        root.manager.current = "Main"
                        root.manager.transition.direction = "right"
        ScrollView:
            size: root.height, root.width
            size_hint: 1,0.92
            scroll_wheel_distance: '150dp'
            effect_cls: 'ScrollEffect'

            GridLayout:
                rows: 7
                size_hint: 1,1.75
    ############ First Title ####################
                MDBoxLayout:
                    size_hint_y: 0.08
                    md_bg_color: 1,0.4,0,0.8
                    Label:
                        padding: dp(10),dp(0)
                        text: 'Non Dimensional Analysis'
                        font_size: dp(23)
                        bold: True
                        underline: True
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'

    ############ Image Box ##############
                FloatLayout:
                    size_hint_y: 0.4
                    canvas:
                        Color:
                            rgba: 1,1,1,1
                        Rectangle:
                            source: "images/new_images/comp_mid.png" if root.tc_namemText == 'Compressor Middle' else "images/new_images/turb_mid.png"
                            size: self.width,self.height
                            pos: self.x,self.y

                MDBoxLayout:
                    size_hint_y: 0.08
                    md_bg_color:1,0.55,0,0.8
                    Label:
                        padding: dp(10),dp(0)
                        text: 'Middle Velocity Triangles'
                        font_size: dp(20)
                        bold: True
                        underline: True
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'

        ######################GRid me ta grapta apotelesmata #############################
                GridLayout:
                    cols:2
                    size_hint_y: 0.67

        ###############   Grid gia diaxorismo titlou apo ta apotelesmata #######################
                    GridLayout:
                        rows:2
                        size_hint_x:0.5

        ##################################   Titlos    ####################################
                        BoxLayout:
                            size_hint_y:0.12
                            spacing:10
                            Label:
                                text:'Coefficients and Angles'
                                font_size: dp(16)
                                bold:True
                                text_size: self.size
                                halign: 'center'
                                valign: 'middle'
                                underline: True

        ################   Grid apotelespata aristera    ###########################
                        GridLayout:
                            cols:3
                            canvas:
                                Color:
                                    rgba: 0,0,0,1
                                Line:
                                    width: dp(1)
                                    points: (self.x+self.width+dp(2),self.y + 0.03*self.height,self.x+self.width+dp(2),self.y + self.height)
                            GridLayout:
                                rows:9
                                size_hint_x:0.67
                                Label:
                                    font_size:dp(11)
                                    text:"Loading Coefficient \u03C8 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Flow Coefficient \u03C6 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Reaction Coefficient Rn : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Inlet absolute angle \u03B11 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Exit absolute angle \u03B12 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Inlet absolute angle \u03B13 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Inlet relative angle \u03B21 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Exit relative angle \u03B22 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'

                                Label:
                                    font_size:dp(11)
                                    text:"Inlet relative angle \u03B23 : "
                                    text_size: self.size
                                    halign: 'right'
                                    valign: 'middle'


                            GridLayout:
                                rows:9
                                size_hint_x:0.22

                                Label:
                                    text: root.pText
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                BoxLayout:
                                    size: self.size
                                    canvas:
                                        Color:
                                            rgba:
                                                (1,0,0,1) if root.XText == [3, 5, 7] or root.XText == [1, 5, 7]\
                                                or root.XText == [1, 3, 7] or root.XText == [1, 3, 5]\
                                                or root.XText == [3, 4, 6] or root.XText == [1, 4, 6]\
                                                or root.XText == [1, 3, 6] or root.XText == [1, 3, 4] else (0,0,0,0)
                                        Line:
                                            width: dp(1.2)
                                            ellipse: (self.x,self.y + dp(10),self.width ,self.height - dp(20))
                                    Label:
                                        text: root.fText
                                        font_size:dp(11)
                                        text_size: self.size
                                        halign: 'center'
                                        valign: 'middle'
                                Label:
                                    text: root.rnText
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    text: root.a1Text if root.tc_namemText == 'Compressor Middle' else '------'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    text: root.a2Text
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    text:'------' if root.tc_namemText == 'Compressor Middle' else root.a1Text
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    text: root.b1Text if root.tc_namemText == 'Compressor Middle' else '------'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    text: root.b2Text
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'
                                Label:
                                    #text: root.b3Text
                                    text:'------' if root.tc_namemText == 'Compressor Middle' else root.b1Text
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'center'
                                    valign: 'middle'

                            GridLayout:
                                rows:9
                                size_hint_x:0.11

                                Label:
                                    text: '[ - ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ - ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ - ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text: '[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'
                                Label:
                                    text:'[ \u00B0 ]'
                                    font_size:dp(11)
                                    text_size: self.size
                                    halign: 'left'
                                    valign: 'middle'

        ############ Deksi grid to opoio diaxorizei ton titlo apo ta deksio apotelesmata ####################
                    GridLayout:
                        rows:2
                        size_hint_x:0.5

        ########Box sthn mesh . Kato apo ta apotelesmata (Ekei pou tha einai ta trigwna) ###########
                FloatLayout:
                    size_hint_y: 0.45
                    canvas:
        ################ Drawing Area for the triangles  ##########################
                        Color:
                            rgba:0,0,0,1
                        Line:
                            width: dp(1.)
                            rectangle: (self.x + dp(20), self.y + dp(20), self.width - dp(40), self.height - dp(40))

        ###################    Color of the Lines    ##################
                        Color:
                            rgba:0,0,0,1
        ###################    U line    ##########################
                        Line:
                            width: dp(1.5)
                            points: ((root.x0Text),self.y + (root.y0Text),(root.x1Text),self.y + (root.y1Text))


        ###################    V1 Line    ##########################
                        Line:
                            width: dp(1.5)
                            points: ((root.x0Text),self.y +(root.y0Text),(root.xRText),self.y +(root.yRText))

        ###################    W1 Line    ##########################
                        Line:
                            width: dp(1.5)
                            points: ((root.x1Text),self.y + (root.y1Text),(root.xRText),self.y + (root.yRText))

        ###################    W2 Line    ##########################
                        Line:
                            width: dp(1.5)
                            points: ((root.x1Text),self.y + (root.y1Text),(root.xLText),self.y + (root.yLText))

        ###################    V2 Line    ##########################
                        Line:
                            width: dp(1.5)
                            points: ((root.x0Text),self.y + (root.y0Text),(root.xLText),self.y + (root.yLText))

        ########### Lines, Dash lines and Labels ###################
        ###################    U dashLine    ##########################
                        Line:
                            width: dp(1)
                            points: ((root.x0Text),self.y + (root.y0Text)-dp(20),(root.x1Text),self.y + (root.y1Text)-dp(20))

        ###################    U Dash lines    ##########################
                        Line:
                            width: dp(1)
                            points: ((root.x0Text),self.y + (root.y0Text),(root.x0Text),self.y + (root.y0Text)-dp(30))
                            dash_length: dp(5)
                            dash_offset: dp(5)
                        Line:
                            width: dp(1)
                            points: ((root.x1Text),self.y + (root.y0Text),(root.x1Text),self.y + (root.y0Text)-dp(30))
                            dash_length: dp(5)
                            dash_offset: dp(5)

        ###################    Vx Line    ##########################
                        Line:
                            width: dp(1)
                            points:
                                ((root.x1Text) + dp(20),self.y + (root.y0Text),(root.x1Text) + dp(20),self.y + (root.yRText))\
                                if (root.xRText) < (root.x1Text) else\
                                ((root.xRText)+ dp(20),self.y + (root.y0Text),(root.xRText)+ dp(20),self.y + (root.yRText))

        ###################    Vx Dash lines    ##########################
                        Line:
                            width: dp(1)
                            points:
                                ((root.x1Text),self.y + (root.y1Text),(root.x1Text) + dp(30),self.y + (root.y0Text))\
                                if (root.xRText) < (root.x1Text) else\
                                ((root.x1Text),self.y + (root.y0Text),(root.xRText) + dp(30) ,self.y + (root.y1Text))
                            dash_length: dp(5)
                            dash_offset: dp(5)
                        Line:
                            width: dp(1)
                            points:
                                ((root.xRText),self.y + (root.yRText),(root.x1Text) + dp(30),self.y + (root.yRText))\
                                if (root.xRText) < (root.x1Text)  else\
                                ((root.xRText),self.y + (root.yRText),(root.xRText)+dp(30),self.y + (root.yRText))
                            dash_length: dp(5)
                            dash_offset: dp(5)

        ###################   ΔVθ   Line    ##########################
                        Line:
                            width: dp(1)
                            points: ((root.xLText),self.y + (root.yLText) + dp(20),(root.xRText),self.y + (root.yRText) + dp(20))

        ###################    ΔVθ  Dash lines    ##########################
                        Line:
                            width: dp(1)
                            points: ((root.xLText),self.y + (root.yLText),(root.xLText),self.y + (root.yLText)+dp(30))
                            dash_length: dp(5)
                            dash_offset: dp(5)
                        Line:
                            width: dp(1)
                            points: ((root.xRText),self.y + (root.yRText),(root.xRText),self.y + (root.yRText)+dp(30))
                            dash_length: dp(5)
                            dash_offset: dp(5)

        ################### Circles of stages numbers ###############################
                        Line:
                            width: dp(1.)
                            circle:
                                ((root.xLText) - dp(15),self.y + (root.yLText) + dp(17),dp(10))

                        Line:
                            width: dp(1.)
                            circle:
                                ((root.xRText) + dp(15),self.y + (root.yLText) + dp(17),dp(10))

                     ################################  Arrows   ##########################################
        ################### Base Velocity Arrows   ##########################

                        ################## U Arrow ########################
                        Color:
                            rgba: (1,1,1,0) if (root.x1Text) - (root.x0Text) < 30 else (0,0,0,1)
                        Triangle:
                            points:(root.x0Text),self.y + (root.y0Text),(root.x0Text)+dp(25),self.y + (root.y0Text)+dp(5),(root.x0Text)+dp(25),self.y + (root.y0Text)-dp(5)

                        ################## The other 4 Base Arrows ########################
                        Color:
                            rgba: (0,0,0,1)
                        Triangle:
                            points:(root.x0Text),self.y + (root.y0Text),(root.xL1uText),self.y + (root.yL1uText),(root.xL1dText),self.y + (root.yL1dText)

                        Triangle:
                            points:(root.x0Text),self.y + (root.y0Text),(root.xL2uText),self.y + (root.yL2uText),(root.xL2dText),self.y + (root.yL2dText)

                        Triangle:
                            points:(root.x1Text),self.y + (root.y1Text),(root.xR1uText),self.y + (root.yR1uText),(root.xR1dText),self.y + (root.yR1dText)

                        Triangle:
                            points:(root.x1Text),self.y + (root.y1Text),(root.xR2uText),self.y + (root.yR2uText),(root.xR2dText),self.y + (root.yR2dText)

        ##################  U Line Arrows  ####################
                        Color:
                            rgba: (1,1,1,0) if (root.x1Text) - (root.x0Text) < 40 else (0,0,0,1)
                        Triangle:
                            points:
                                (root.x0Text),self.y + (root.y0Text)-dp(20),(root.x0Text)+dp(20),\
                                self.y + (root.y0Text)-dp(20)+dp(3),(root.x0Text)+dp(20),self.y + (root.y0Text)-dp(20)-dp(3)
                        Triangle:
                            points:
                                (root.x1Text),self.y + (root.y1Text)-dp(20),(root.x1Text)-dp(20),\
                                self.y + (root.y1Text)-dp(20)+dp(3),(root.x1Text)-dp(20),self.y + (root.y1Text)-dp(20)-dp(3)

        ##################  ΔVθ Line Arrows  ####################
                        Color:
                            rgba: (1,1,1,0) if (root.xRText) - (root.xLText) < 25 else (0,0,0,1)
                        Triangle:
                            points:
                                ((root.xLText),self.y + (root.yLText) + dp(20),(root.xLText)+ dp(20),self.y + (root.yLText) + dp(20) + dp(3),\
                                (root.xLText)+ dp(20),self.y + (root.yLText) + dp(20) - dp(3))\
                                if root.tc_namemText == 'Compressor Middle' else\
                                ((root.xRText),self.y + (root.yRText) + dp(20),(root.xRText)- dp(20),self.y + (root.yRText) + dp(20) + dp(3),\
                                (root.xRText)- dp(20),self.y + (root.yRText) + dp(20) - dp(3))

        #####################  Vx Line Arrows  ####################
                        Color:
                            rgba: (1,1,1,0) if ((root.yRText) - (root.y1Text)) < 25 else (0,0,0,1)
                        Triangle:
                            points:
                                ((root.x1Text) + dp(20),self.y + (root.y1Text),(root.x1Text) + dp(20) + dp(3),\
                                self.y + (root.y1Text)+dp(20),(root.x1Text) + dp(20) - dp(3),self.y + (root.y1Text)+dp(20))\
                                if (root.xRText) < (root.x1Text) else\
                                ((root.xRText)+ dp(20),self.y + (root.y1Text),(root.xRText)+ dp(20) + dp(3),\
                                self.y + (root.y1Text) + dp(20),(root.xRText)+ dp(20) - dp(3),self.y + (root.y1Text) + dp(20))

        ###################   Labels   ##########################

                    Label:
                        text: 'U'
                        pos: self.parent.x, self.parent.y - self.parent.height/2 + dp(35)

                    Label:
                        text: 'Vx'
                        pos:
                            (root.x1Text - self.width/2 + dp(35),\
                            self.parent.y - self.parent.height/2  + (root.y0Text + root.yRText)/2)\
                            if (root.x1Text) > (root.xRText) else\
                            (self.parent.x - self.parent.width/2 + (root.xRText) + dp(40),\
                            self.parent.y - self.parent.height/2  + (root.y0Text + root.yRText)/2)

                    Label:
                        text: '\u0394V\u03B8'
                        pos:
                            (root.xLText + root.xRText - self.width)/2,\
                            self.parent.y - self.parent.height/2 + root.yLText + dp(35)

                    Label:
                        text:'1' if root.tc_namemText == 'Compressor Middle' else '3'
                        pos:
                            (root.xLText) - self.width/2 - dp(15),\
                            self.parent.y - self.parent.height/2 + root.yLText + dp(17)

                    Label:
                        text:'2'
                        pos:
                            -(root.UText)/2-(root.x0Text)+(root.xRText) + dp(15),\
                            self.parent.y - self.parent.height/2 + (root.y0Text) + (root.UText)*float(root.fText) + dp(17)

                GridLayout:
                    cols:2
                    size_hint_y: 0.1

                    BoxLayout:
                        size_hint_x:0.7

                MDBoxLayout:
                    orientation: 'vertical'
                    padding: dp(10),dp(0)
                    size_hint: 1,0.12
                    md_bg_color:0.18,0.18,0.18,1
                    canvas:
                        Color:
                            rgba: 0.8,0.8,0.8,0.5
                        Line:
                            width: dp(7.5)
                            points: (self.x,self.height - dp(7.5),self.width,self.height - dp(7.5))
                    Label:
                        text: 'Velocity Triangles Analysis App/Non dimensional results '
                        font_size: dp(14)
                        color: 1,1,1,1
                        text_size: self.size
                        halign: 'left'
                        valign: 'middle'
